(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{689:function(t,s,e){"use strict";e.r(s);var n=e(5),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),e("p",[t._v("​\t本文主要介绍如何使用python将文字和语音互转，使用chatGPT生成相关的文本，并播放出来，类似一个智能音箱的效果。同时会调用讯飞相关的api，包括语音识别，语音听写，iFLYos等。后续会对个人所有的电话录音，微信语音记录，进行转写成文字并保存到数据库统一管理，成为不可或缺的记忆碎片之一。")]),t._v(" "),e("p",[e("a",{attrs:{href:"www.deep-diary.com"}},[t._v("点击免费观看教学视频")])])]),t._v(" "),e("h1",{attrs:{id:"voice"}},[t._v("Voice")]),t._v(" "),e("h2",{attrs:{id:"文本转语音"}},[t._v("文本转语音")]),t._v(" "),e("p",[t._v("TTS(Text To Speech) 译为从文本到语音，TTS是人工智能AI的一个模组，是人机对话的一部分，即让机器能够说话。")]),t._v(" "),e("p",[t._v("TTS是语音合成技术应用的一种，首先采集语音波形，然后进行优化处理，最后存储在数据库中，合成语音是提取波形转换成自然语音输出。")]),t._v(" "),e("p",[e("strong",[t._v("TTS 有哪些应用场景")])]),t._v(" "),e("ol",[e("li",[t._v("TTS 能帮助有视觉障碍的人阅读计算机上的信息")]),t._v(" "),e("li",[t._v("懒人听书，很多人没有时间读书，我们可以通过TTS将书中的内容朗读出来")]),t._v(" "),e("li",[t._v("与声音识别程序一起使用，实现人机交互，例如客服系统的对话脚本")]),t._v(" "),e("li",[t._v("不方便视觉交互场景，例如驾驶汽车，我们可以将短信朗读出来，来电电话号码朗读出来")]),t._v(" "),e("li",[t._v("公交车报站")])]),t._v(" "),e("h2",{attrs:{id:"安装-pyttsx3"}},[t._v("安装 pyttsx3")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("pip install pyttsx3\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("演示")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('#coding=utf-8\nimport pyttsx3\npyttsx3.speak("Hello World!")\t\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("方法详解")]),t._v(" "),e("p",[t._v("say() 方法，speak() 实际上是下面代码的封装")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('#coding=utf-8 \nimport pyttsx3 \nengine = pyttsx3.init() \nengine.say("Hello World!") \nengine.runAndWait()\t\t\t\t\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("保存到MP3文件")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("save_to_file()\n\t\t\nengine.save_to_file(text, 'test.mp3')\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("调整人声类型")]),t._v(" "),e("p",[t._v("男性（voices[0].id）、女性（voices[1].id）")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("voices = engine.getProperty('voices')  \nengine.setProperty('voice', voices[0].id)\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("调整语速")]),t._v(" "),e("p",[t._v("一般范围一般在0~500之间")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("rate = engine.getProperty('rate')\nengine.setProperty('rate', 200)  \n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("调整声量")]),t._v(" "),e("p",[t._v("范围在0~1之间")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("volume = engine.getProperty('volume')                         \nengine.setProperty('volume',0.8) \n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("查看语音引擎")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("voices = engine.getProperty('voices') \nfor item in voices:\n    print(item)\t\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("例子")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import pyttsx3\nengine = pyttsx3.init() # object creation\n\n""" RATE"""\nrate = engine.getProperty(\'rate\')   # getting details of current speaking rate\nprint (rate)                        #printing current voice rate\nengine.setProperty(\'rate\', 125)     # setting up new voice rate\n\n\n"""VOLUME"""\nvolume = engine.getProperty(\'volume\')   #getting to know current volume level (min=0 and max=1)\nprint (volume)                          #printing current volume level\nengine.setProperty(\'volume\',1.0)    # setting up volume level  between 0 and 1\n\n"""VOICE"""\nvoices = engine.getProperty(\'voices\')       #getting details of current voice\n#engine.setProperty(\'voice\', voices[0].id)  #changing index, changes voices. o for male\nengine.setProperty(\'voice\', voices[1].id)   #changing index, changes voices. 1 for female\n\nengine.say("Hello World!")\nengine.say(\'My current speaking rate is \' + str(rate))\nengine.runAndWait()\nengine.stop()\n\n"""Saving Voice to a file"""\n# On linux make sure that \'espeak\' and \'ffmpeg\' are installed\nengine.save_to_file(\'Hello World\', \'test.mp3\')\nengine.runAndWait()\t\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br")])]),e("h2",{attrs:{id:"讯飞语音api"}},[t._v("讯飞语音api")]),t._v(" "),e("h3",{attrs:{id:"实时语音交互-chatglm-vits-科大讯飞实时语音转字api-百度翻译api"}},[t._v("实时语音交互（ChatGLM+Vits+科大讯飞实时语音转字api+百度翻译api ）")]),t._v(" "),e("p",[t._v("whisper 自动识别字幕")]),t._v(" "),e("p",[t._v("QchatGPT")]),t._v(" "),e("p",[t._v("ChatWaifu语音转换插件")]),t._v(" "),e("h2",{attrs:{id:"speechrecognition"}},[t._v("SpeechRecognition")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/92604225",target:"_blank",rel:"noopener noreferrer"}},[t._v("干货收藏 | Python语音识别终极指南 - 知乎 (zhihu.com)"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("pip install SpeechRcognition")]),t._v(" "),e("p",[t._v("pip install PyAudio")]),t._v(" "),e("p",[t._v("pip install PocketSphinx")]),t._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" speech_recognition "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" sr\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个Recognizer对象")]),t._v("\nr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Recognizer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用麦克风录音")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" sr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Microphone"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" source"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请说话："')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    audio "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listen"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("source"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将语音转换为文本")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    text "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("recognize_google"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("audio"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" language"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zh-CN'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你说的是："')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" sr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnknownValueError"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"无法识别你的语音"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" sr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RequestError "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"无法连接到Google API，错误原因："')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br")])]),e("h2",{attrs:{id:"讯飞api"}},[t._v("讯飞api")]),t._v(" "),e("p",[t._v("https://blog.csdn.net/sinat_41787040/article/details/107130637")]),t._v(" "),e("p",[t._v("http://www.manongjc.com/detail/10-yswvjotrzghcxun.html")]),t._v(" "),e("h3",{attrs:{id:"module-websocket-has-no-attribute-enabletrace-解决方案"}},[t._v("module 'websocket' has no attribute 'enableTrace' 解决方案")]),t._v(" "),e("p",[t._v("源代码如上，报错：")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://so.csdn.net/so/search?q=module&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[t._v("module"),e("OutboundLink")],1),t._v(" 'websocket' has no attribute 'enableTrace'")])]),t._v(" "),e("p",[t._v("解决方案：")]),t._v(" "),e("blockquote",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("pip install websocket_client\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])]),t._v(" "),e("p",[t._v("这个才是正确的websocket库")]),t._v(" "),e("h2",{attrs:{id:"cool-edit-pro"}},[t._v("Cool edit pro")]),t._v(" "),e("p",[t._v("音频编辑工具")]),t._v(" "),e("h2",{attrs:{id:"ffmpeg命令入门到提高-一篇文章就够了"}},[t._v("FFMPEG命令入门到提高，一篇文章就够了")]),t._v(" "),e("p",[t._v("https://ffmpeg.org/")]),t._v(" "),e("h2",{attrs:{id:"python-播放声音"}},[t._v("python 播放声音")]),t._v(" "),e("p",[t._v("https://zhuanlan.zhihu.com/p/378423781")]),t._v(" "),e("p",[t._v("https://blog.csdn.net/pengranxindong/article/details/90606279")]),t._v(" "),e("h2",{attrs:{id:"chatglm-6b"}},[t._v("ChatGLM-6B")]),t._v(" "),e("p",[e("strong",[e("a",{attrs:{href:"https://github.com/THUDM/ChatGLM-6B",target:"_blank",rel:"noopener noreferrer"}},[t._v("ChatGLM-6B"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=a.exports}}]);