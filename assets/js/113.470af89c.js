(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{737:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("说明")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("vuepress")]),s._v("搭建好博客后，就可以在本地写文章，然后使用 git 指令，发布到"),a("code",[s._v("gitee")]),s._v("或"),a("code",[s._v("github")]),s._v("上去，因此会用到"),a("code",[s._v("git")]),s._v("指令，本文就对其做一些汇总")]),s._v(" "),a("p",[a("a",{attrs:{href:"www.deep-diary.com"}},[s._v("点击免费观看教学视频")])])]),s._v(" "),a("h1",{attrs:{id:"git常用命令大全"}},[s._v("Git常用命令大全")]),s._v(" "),a("h2",{attrs:{id:"常用"}},[s._v("常用")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin git@github.com:yeszao/dofiler.git         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置远程git版本库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master                                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载代码及快速合并")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master                                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传代码及快速合并")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch origin                                                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从远程库获取代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch                                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout master                                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到master分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b dev                                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建并切换到dev分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"first version"')]),s._v("                                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status                                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log                                                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看提交历史")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global core.editor "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置默认编辑器为vim（git默认用nano）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config core.ignorecase "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("                                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置大小写敏感")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YOUR NAME"')]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置用户名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YOUR EMAIL ADDRESS"')]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置邮箱")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h2",{attrs:{id:"别名-alias"}},[s._v("别名 alias")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.br"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"branch"')]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建/查看本地分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.co"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"checkout"')]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.cb"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"checkout -b"')]),s._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建并切换到新分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commit -m"')]),s._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.st"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.pullm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pull origin master"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.pushm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"push origin master"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git log --oneline --graph --decorate --color=always"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单行、分颜色显示记录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.logg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"git log --graph --all --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(bold white)— %an%C(reset)%C(bold yellow)%d%C(reset)' --abbrev-commit --date=relative\"")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复杂显示")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"创建版本库"}},[s._v("创建版本库")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 克隆远程版本库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化本地版本库")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"修改和提交"}},[s._v("修改和提交")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看变更内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跟踪所有改动过的文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跟踪指定的文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("old"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("new"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件改名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" --cached "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止跟踪文件但不删除")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m “commit message”  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交所有更新过的文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit --amend              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改最后一次提交")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"查看历史"}},[s._v("查看历史")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看提交历史")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log -p "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看指定文件的提交历史")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" blame "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以列表方式查看指定文件的提交历史")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"撤销"}},[s._v("撤销")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤消工作目录中所有未提交文件的修改内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤销到某个特定版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout HEAD "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤消指定的未提交文件的修改内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -- "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同上一个命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" revert "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤消指定的提交分支与标签")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"分支与标签"}},[s._v("分支与标签")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有本地分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch/tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到指定分支或标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("new-branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建新分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -d "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除本地分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有本地标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tagname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基于最新提交创建标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag -a "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"v1.0"')]),s._v(" -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"一些说明"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -a指定标签名称，-m指定标签说明")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag -d "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tagname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout dev                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 合并特定的commit到dev分支上")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cherry-pick 62ecb3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"合并与衍合"}},[s._v("合并与衍合")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 合并指定分支到当前分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge --abort               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消当前合并，重建合并前状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge dev -Xtheirs          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以合并dev分支到当前分支，有冲突则以dev分支为准")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 衍合指定分支到当前分支")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"远程操作"}},[s._v("远程操作")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote -v                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看远程版本库信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote show "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看指定远程版本库信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加远程版本库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote remove "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除指定的远程版本库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从远程库获取代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载代码及快速合并")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传代码及快速合并")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" :"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch/tag-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除远程分支或标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push --tags                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传所有标签")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"打包"}},[s._v("打包")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" archive --format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zip --output "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/file.zip master    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将master分支打包成file.zip文件，保存在上一级目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" archive --format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zip --output "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/v1.2.zip v1.2      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打包v1.2标签的文件，保存在上一级目录v1.2.zip文件中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" archive --format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zip v1.2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/v1.2.zip             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作用同上一条命令")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("11.全局和局部配置")]),s._v(" "),a("ul",[a("li",[s._v("全局配置保存在："),a("code",[s._v("$Home/.gitconfig")])]),s._v(" "),a("li",[s._v("本地仓库配置保存在："),a("code",[s._v(".git/config")])])]),s._v(" "),a("h2",{attrs:{id:"远程与本地合并"}},[s._v("远程与本地合并")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init                              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化本地代码仓")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加本地代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add local source"')]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交本地代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载远程代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge master                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 合并master分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传代码")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h1",{attrs:{id:"git忽略文件-gitignore的使用"}},[s._v("Git忽略文件.gitignore的使用")]),s._v(" "),a("p",[s._v("你同样可以再github中看到这篇文章\n"),a("a",{attrs:{href:"https://link.jianshu.com?t=https://github.com/onlynight/ReadmeDemo/tree/master/Readmes/GitIgnore",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/onlynight/ReadmeDemo/tree/master/Readmes/GitIgnore"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"_1-why"}},[s._v("1.WHY?")]),s._v(" "),a("p",[s._v("当你使用"),a("code",[s._v("git add .")]),s._v("的时候有没有遇到把你不想提交的文件也添加到了缓存中去？比如项目的本地配置信息，如果你上传到Git中去其他人pull下来的时候就会和他本地的配置有冲突，所以这样的个性化配置文件我们一般不把它推送到git服务器中，但是又为了偷懒每次添加缓存的时候都想用"),a("code",[s._v("git add .")]),s._v("而不是手动一个一个文件添加，该怎么办呢？很简单，git为我们提供了一个.gitignore文件只要在这个文件中申明那些文件你不希望添加到git中去，这样当你使用"),a("code",[s._v("git add .")]),s._v("的时候这些文件就会被自动忽略掉。")]),s._v(" "),a("h2",{attrs:{id:"_2-忽略文件的原则"}},[s._v("2.忽略文件的原则")]),s._v(" "),a("ul",[a("li",[s._v("忽略操作系统自动生成的文件，比如缩略图等；")]),s._v(" "),a("li",[s._v("忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的.class文件；")]),s._v(" "),a("li",[s._v("忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。")])]),s._v(" "),a("h2",{attrs:{id:"_3-使用方法"}},[s._v("3.使用方法")]),s._v(" "),a("p",[s._v("首先，在你的工作区新建一个名称为"),a("code",[s._v(".gitignore")]),s._v("的文件。\n然后，把要忽略的文件名填进去，Git就会自动忽略这些文件。\n不需要从头写.gitignore文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。所有配置文件可以直接在线浏览："),a("a",{attrs:{href:"https://link.jianshu.com?t=https://github.com/github/gitignore",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/github/gitignore"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"_4-栗子"}},[s._v("4.栗子")]),s._v(" "),a("p",[s._v("比如你的项目是java项目，"),a("code",[s._v(".java")]),s._v("文件编译后会生成"),a("code",[s._v(".class")]),s._v("文件，这些文件多数情况下是不想被传到仓库中的文件。这时候你可以直接适用github的.gitignore文件模板。"),a("a",{attrs:{href:"https://link.jianshu.com?t=https://github.com/github/gitignore/blob/master/Java.gitignore",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/github/gitignore/blob/master/Java.gitignore"),a("OutboundLink")],1),s._v(" 将这些忽略文件信息复制到你的.gitignore文件中去：")]),s._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".class")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Mobile Tools for Java (J2ME)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v(".mtj.tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Package Files #")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".jar")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".war")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".ear")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("hs_err_pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("可以看到github为我们提供了最流行的.gitignore文件配置。\n保存.ignore文件后我们查看下git status，检查下是否还有我们不需要的文件会被添加到git中去：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch master\n\nInitial commit\n\nChanges to be committed:\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git rm --cached <file>..."')]),s._v(" to unstage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        new file:   .gitignore\n        new file:   HelloWorld.java\n\nUntracked files:\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add <file>..."')]),s._v(" to include "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" what will be committed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        Config.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("比如我的项目目录下有一个Config.ini文件，这个是个本地配置文件我不希望上传到git中去，我们可以在gitignore文件中添加这样的配置：")]),s._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("Config.ini")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或者你想忽略所有的.ini文件你可以这样写：")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("*.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果有些文件已经被你忽略了，当你使用"),a("code",[s._v("git add")]),s._v("时是无法添加的，比如我忽略了"),a("code",[s._v("*.class")]),s._v("，现在我想把"),a("code",[s._v("HelloWorld.class")]),s._v("添加到git中去：")]),s._v(" "),a("div",{staticClass:"language-kotlin line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[s._v("$ git add HelloWorld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class\nThe following paths are ignored "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" one of your "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gitignore files"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\nHelloWorld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class\nUse "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you really want "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" add them"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("git会提示我们这个文件已经被我们忽略了，需要加上"),a("code",[s._v("-f")]),s._v("参数才能强制添加到git中去：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch master\n\nInitial commit\n\nChanges to be committed:\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git rm --cached <file>..."')]),s._v(" to unstage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        new file:   .gitignore\n        new file:   HelloWorld.class\n        new file:   HelloWorld.java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("这样就能强制添加到缓存中去了。\n如果我们意外的将想要忽略的文件添加到缓存中去了，我们可以使用"),a("code",[s._v("rm")]),s._v("命令将其从中移除：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" HelloWorld.class --cached\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HelloWorld.class'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果你已经把不想上传的文件上传到了git仓库，那么你必须先从远程仓库删了它，我们可以从远程仓库直接删除然后pull代码到本地仓库这些文件就会本删除，或者从本地删除这些文件并且在.gitignore文件中添加这些你想忽略的文件，然后再push到远程仓库。")]),s._v(" "),a("h2",{attrs:{id:"_5-查看gitignore规则"}},[s._v("5.查看gitignore规则")]),s._v(" "),a("p",[s._v("如果你发下"),a("code",[s._v(".gitignore")]),s._v("写得有问题，需要找出来到底哪个规则写错了，可以用"),a("code",[s._v("git check-ignore")]),s._v("命令检查：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" check-ignore -v HelloWorld.class\n.gitignore:1:*.class    HelloWorld.class\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("可以看到"),a("code",[s._v("HelloWorld.class")]),s._v("匹配到了我们的第一条"),a("code",[s._v("*.class")]),s._v("的忽略规则所以文件被忽略了。")]),s._v(" "),a("h2",{attrs:{id:"_6-忽略规则文件语法"}},[s._v("6.忽略规则文件语法")]),s._v(" "),a("h3",{attrs:{id:"a-忽略指定文件-目录"}},[s._v("a.忽略指定文件/目录")]),s._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 忽略指定文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("HelloWrold.class")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 忽略指定文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")]),s._v("gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"b-通配符忽略规则"}},[s._v("b.通配符忽略规则")]),s._v(" "),a("p",[s._v("通配符规则如下：")]),s._v(" "),a("div",{staticClass:"language-kotlin line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[s._v("# 忽略"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class的所有文件\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class\n\n# 忽略名称中末尾为ignore的文件夹\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("ignore"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n\n# 忽略名称中间包含ignore的文件夹\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("ignore"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("作者：唯夜\n链接：https://www.jianshu.com/p/a09a9b40ad20\n来源：简书\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。")]),s._v(" "),a("h1",{attrs:{id:"git撤销-回滚操作-git-reset-和-get-revert-转载"}},[s._v("Git撤销&回滚操作(git reset 和 get revert)（转载）")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1582800",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git撤销&回滚操作(git reset 和 get revert) - 腾讯云开发者社区-腾讯云 (tencent.com)"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("俗话说，老虎也有打盹的时候。我们提交代码，也会有出错的时候。 我今天不小心把不该提交的文件给提交了。")]),s._v(" "),a("p",[s._v("修改了本地的代码，然后使用：")]),s._v(" "),a("p",[s._v("git add file git commit -m '修改原因'")]),s._v(" "),a("p",[s._v("执行commit后，还没执行push时，想要撤销这次的commit，该怎么办？")]),s._v(" "),a("p",[s._v("解决方案： 使用命令：")]),s._v(" "),a("p",[s._v("git reset --soft HEAD^")]),s._v(" "),a("p",[s._v("这样就成功撤销了commit，如果想要连着add也撤销的话，--soft改为--hard（删除工作空间的改动代码）。")]),s._v(" "),a("p",[s._v("命令详解：")]),s._v(" "),a("p",[s._v("HEAD^ 表示上一个版本，即上一次的commit，也可以写成HEAD~1 如果进行两次的commit，想要都撤回，可以使用HEAD~2")]),s._v(" "),a("p",[s._v("--soft 不删除工作空间的改动代码 ，撤销commit，不撤销git add file")]),s._v(" "),a("p",[s._v("--hard 删除工作空间的改动代码，撤销commit且撤销add")]),s._v(" "),a("p",[s._v("另外一点，如果commit注释写错了，先要改一下注释，有其他方法也能实现，如：")]),s._v(" "),a("p",[s._v("git commit --amend 这时候会进入vim编辑器，修改完成你要的注释后保存即可。")]),s._v(" "),a("p",[s._v("为了搞清楚原理，我画流程图，找到了一个好的工具：https://www.draw.io/")]),s._v(" "),a("h2",{attrs:{id:"git的工作流"}},[s._v("git的工作流")]),s._v(" "),a("p",[s._v("工作区：即自己当前分支所修改的代码，git add xx 之前的！不包括 git add xx 和 git commit xxx 之后的。")]),s._v(" "),a("p",[s._v("暂存区：已经 git add xxx 进去，且未 git commit xxx 的。")]),s._v(" "),a("p",[s._v("本地分支：已经git commit -m xxx 提交到本地分支的。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://deep-diary.oss-cn-hangzhou.aliyuncs.com/blog/xchyhiloqw.jpeg",alt:"img"}})]),s._v(" "),a("p",[s._v("基本原理如下：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://deep-diary.oss-cn-hangzhou.aliyuncs.com/blog/t0jam7sqb0.jpeg",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"代码回滚"}},[s._v("代码回滚")]),s._v(" "),a("p",[s._v("在上传代码到远程仓库的时候，不免会出现问题，任何过程都有可能要回滚代码：")]),s._v(" "),a("p",[s._v("1、在工作区的代码")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt   # 丢弃某个文件，或者\ngit checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("       # 丢弃全部\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("注意：git checkout – . 丢弃全部，也包括：新增的文件会被删除、删除的文件会恢复回来、修改的文件会回去。这几个前提都说的是，回到暂存区之前的样子。对之前保存在暂存区里的代码不会有任何影响。对commit提交到本地分支的代码就更没影响了。当然，如果你之前压根都没有暂存或commit，那就是回到你上次pull下来的样子了。")]),s._v(" "),a("p",[s._v("2、代码git add到缓存区，并未commit提交")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("  或者\ngit reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这个命令仅改变暂存区，并不改变工作区，这意味着在无任何其他操作的情况下，工作区中的实际文件同该命令运行之前无任何变化")]),s._v(" "),a("p",[s._v("3、git commit到本地分支、但没有git push到远程")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git log # 得到你需要回退一次提交的commit id\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  # 回到其中你想要的某个版\n或者\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("  # 回到最新的一次提交\n或者\ngit reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("  # 此时代码保留，回到 git add 之前\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("4、git push把修改提交到远程仓库 1）通过git reset是直接删除指定的commit")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git log # 得到你需要回退一次提交的commit id\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ngit push origin "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("force # 强制提交一次，之前错误的提交就从远程仓库删除\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("2）通过git revert 用一次新的commit来回滚之前的commit")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git log # 得到你需要回退一次提交的commit id\ngit revert "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  # 撤销指定的版本，撤销也会作为一次提交进行保存\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("3） git revert 和 git reset的区别")]),s._v(" "),a("ul",[a("li",[s._v("git revert 用一次新的commit来回滚之前的commit，此次提交之前的commit都会被保留；")]),s._v(" "),a("li",[s._v("git reset 回到某次提交，提交及之前的commit都会被保留，但是此commit id之后的修改都会被删除")])]),s._v(" "),a("p",[s._v("开发过程中，你肯定会遇到这样的场景：")]),s._v(" "),a("p",[s._v("场景一：")]),s._v(" "),a("p",[s._v("糟了，我刚把不想要的代码，commit到本地仓库中了，但是还没有做push操作！")]),s._v(" "),a("p",[s._v("场景二：")]),s._v(" "),a("p",[s._v("彻底完了，刚线上更新的代码出现问题了，需要还原这次提交的代码！")]),s._v(" "),a("p",[s._v("场景三：")]),s._v(" "),a("p",[s._v("刚才我发现之前的某次提交太愚蠢了，现在想要干掉它！")]),s._v(" "),a("p",[s._v("撤销 上述场景一，在未进行git push前的所有操作，都是在“本地仓库”中执行的。我们暂且将“本地仓库”的代码还原操作叫做“撤销”！")]),s._v(" "),a("p",[s._v("情况一：文件被修改了，但未执行git add操作(working tree内撤销)")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git checkout fileName\ngit checkout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("情况二：同时对多个文件执行了git add操作，但本次只想提交其中一部分文件")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("$ git add "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n$ git status\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"取消暂存"}},[s._v("取消暂存")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("$ git reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("情况三：文件执行了git add操作，但想撤销对其的修改（index内回滚）")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 取消暂存\ngit reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v(" fileName\n# 撤销修改\ngit checkout fileName\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("情况四：修改的文件已被git commit，但想再次修改不再产生新的Commit")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 修改最后一次提交\n$ git add sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n$ git commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("amend "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"说明"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("情况五：已在本地进行了多次git commit操作，现在想撤销到其中某次Commit")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git reset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("soft"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("mixed"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("merge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("keep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("commit"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"回滚"}},[s._v("回滚")]),s._v(" "),a("p",[s._v("上述场景二，已进行git push，即已推送到“远程仓库”中。我们将已被提交到“远程仓库”的代码还原操作叫做“回滚”！注意：对远程仓库做回滚操作是有风险的，需提前做好备份和通知其他团队成员！")]),s._v(" "),a("p",[s._v("如果你每次更新线上，都会打tag，那恭喜你，你可以很快的处理上述场景二的情况")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n如果你回到当前"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v("指向\n\ngit checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("情况一：撤销指定文件到指定版本")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 查看指定文件的历史版本\ngit log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n# 回滚到指定commitID\ngit checkout "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commitID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("情况二：删除最后一次远程提交")]),s._v(" "),a("p",[s._v("方式一：使用revert")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git revert "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),s._v("\ngit push origin master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("方式二：使用reset")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("git reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("hard "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("\ngit push origin master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("二者区别：")]),s._v(" "),a("p",[s._v("revert是放弃指定提交的修改，但是会生成一次新的提交，需要填写提交注释，以前的历史记录都在； reset是指将HEAD指针指到指定提交，历史记录中不会出现放弃的提交记录。 情况三：回滚某次提交")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 找到要回滚的commitID\ngit log\ngit revert commitID\n删除某次提交\ngit log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("oneline "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n5\n\n\ngit rebase "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commit id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("\n注意：需要注意最后的"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("号，意思是commit id的前一次提交\n\ngit rebase "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5b3ba7a"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("代码提交，谁都不希望撤销或者回滚，有时候又迫不得已。掌握这些命令，可以提交代码无忧！")]),s._v(" "),a("h2",{attrs:{id:"更新记录"}},[s._v("更新记录")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("Date")]),s._v(" "),a("th",[s._v("Updated Info")]),s._v(" "),a("th",[s._v("Address")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("2022-06-28")]),s._v(" "),a("td",[s._v("init")]),s._v(" "),a("td",[s._v("@ home")])]),s._v(" "),a("tr",[a("td",[s._v("2022-07-29")]),s._v(" "),a("td",[s._v("将多个git教程进行合并")]),s._v(" "),a("td",[s._v("@ 印象南岸游乐场")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);