(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{683:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"git忽略文件-gitignore的使用"}},[s._v("Git忽略文件.gitignore的使用")]),s._v(" "),a("p",[s._v("你同样可以再github中看到这篇文章\n"),a("a",{attrs:{href:"https://link.jianshu.com?t=https://github.com/onlynight/ReadmeDemo/tree/master/Readmes/GitIgnore",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/onlynight/ReadmeDemo/tree/master/Readmes/GitIgnore"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"_1-why"}},[s._v("1.WHY?")]),s._v(" "),a("p",[s._v("当你使用"),a("code",[s._v("git add .")]),s._v("的时候有没有遇到把你不想提交的文件也添加到了缓存中去？比如项目的本地配置信息，如果你上传到Git中去其他人pull下来的时候就会和他本地的配置有冲突，所以这样的个性化配置文件我们一般不把它推送到git服务器中，但是又为了偷懒每次添加缓存的时候都想用"),a("code",[s._v("git add .")]),s._v("而不是手动一个一个文件添加，该怎么办呢？很简单，git为我们提供了一个.gitignore文件只要在这个文件中申明那些文件你不希望添加到git中去，这样当你使用"),a("code",[s._v("git add .")]),s._v("的时候这些文件就会被自动忽略掉。")]),s._v(" "),a("h2",{attrs:{id:"_2-忽略文件的原则"}},[s._v("2.忽略文件的原则")]),s._v(" "),a("ul",[a("li",[s._v("忽略操作系统自动生成的文件，比如缩略图等；")]),s._v(" "),a("li",[s._v("忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的.class文件；")]),s._v(" "),a("li",[s._v("忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。")])]),s._v(" "),a("h2",{attrs:{id:"_3-使用方法"}},[s._v("3.使用方法")]),s._v(" "),a("p",[s._v("首先，在你的工作区新建一个名称为"),a("code",[s._v(".gitignore")]),s._v("的文件。\n然后，把要忽略的文件名填进去，Git就会自动忽略这些文件。\n不需要从头写.gitignore文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。所有配置文件可以直接在线浏览："),a("a",{attrs:{href:"https://link.jianshu.com?t=https://github.com/github/gitignore",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/github/gitignore"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"_4-栗子"}},[s._v("4.栗子")]),s._v(" "),a("p",[s._v("比如你的项目是java项目，"),a("code",[s._v(".java")]),s._v("文件编译后会生成"),a("code",[s._v(".class")]),s._v("文件，这些文件多数情况下是不想被传到仓库中的文件。这时候你可以直接适用github的.gitignore文件模板。"),a("a",{attrs:{href:"https://link.jianshu.com?t=https://github.com/github/gitignore/blob/master/Java.gitignore",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/github/gitignore/blob/master/Java.gitignore"),a("OutboundLink")],1),s._v(" 将这些忽略文件信息复制到你的.gitignore文件中去：")]),s._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".class")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Mobile Tools for Java (J2ME)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v(".mtj.tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Package Files #")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".jar")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".war")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".ear")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("hs_err_pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("可以看到github为我们提供了最流行的.gitignore文件配置。\n保存.ignore文件后我们查看下git status，检查下是否还有我们不需要的文件会被添加到git中去：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch master\n\nInitial commit\n\nChanges to be committed:\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git rm --cached <file>..."')]),s._v(" to unstage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        new file:   .gitignore\n        new file:   HelloWorld.java\n\nUntracked files:\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add <file>..."')]),s._v(" to include "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" what will be committed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        Config.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("比如我的项目目录下有一个Config.ini文件，这个是个本地配置文件我不希望上传到git中去，我们可以在gitignore文件中添加这样的配置：")]),s._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("Config.ini")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或者你想忽略所有的.ini文件你可以这样写：")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("*.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果有些文件已经被你忽略了，当你使用"),a("code",[s._v("git add")]),s._v("时是无法添加的，比如我忽略了"),a("code",[s._v("*.class")]),s._v("，现在我想把"),a("code",[s._v("HelloWorld.class")]),s._v("添加到git中去：")]),s._v(" "),a("div",{staticClass:"language-kotlin line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[s._v("$ git add HelloWorld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class\nThe following paths are ignored "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" one of your "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gitignore files"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\nHelloWorld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class\nUse "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you really want "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" add them"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("git会提示我们这个文件已经被我们忽略了，需要加上"),a("code",[s._v("-f")]),s._v("参数才能强制添加到git中去：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch master\n\nInitial commit\n\nChanges to be committed:\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git rm --cached <file>..."')]),s._v(" to unstage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        new file:   .gitignore\n        new file:   HelloWorld.class\n        new file:   HelloWorld.java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("这样就能强制添加到缓存中去了。\n如果我们意外的将想要忽略的文件添加到缓存中去了，我们可以使用"),a("code",[s._v("rm")]),s._v("命令将其从中移除：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" HelloWorld.class --cached\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HelloWorld.class'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果你已经把不想上传的文件上传到了git仓库，那么你必须先从远程仓库删了它，我们可以从远程仓库直接删除然后pull代码到本地仓库这些文件就会本删除，或者从本地删除这些文件并且在.gitignore文件中添加这些你想忽略的文件，然后再push到远程仓库。")]),s._v(" "),a("h2",{attrs:{id:"_5-查看gitignore规则"}},[s._v("5.查看gitignore规则")]),s._v(" "),a("p",[s._v("如果你发下"),a("code",[s._v(".gitignore")]),s._v("写得有问题，需要找出来到底哪个规则写错了，可以用"),a("code",[s._v("git check-ignore")]),s._v("命令检查：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" check-ignore -v HelloWorld.class\n.gitignore:1:*.class    HelloWorld.class\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("可以看到"),a("code",[s._v("HelloWorld.class")]),s._v("匹配到了我们的第一条"),a("code",[s._v("*.class")]),s._v("的忽略规则所以文件被忽略了。")]),s._v(" "),a("h2",{attrs:{id:"_6-忽略规则文件语法"}},[s._v("6.忽略规则文件语法")]),s._v(" "),a("h3",{attrs:{id:"a-忽略指定文件-目录"}},[s._v("a.忽略指定文件/目录")]),s._v(" "),a("div",{staticClass:"language-gitignore line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-gitignore"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 忽略指定文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("HelloWrold.class")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 忽略指定文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token entry string"}},[s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")]),s._v("gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"b-通配符忽略规则"}},[s._v("b.通配符忽略规则")]),s._v(" "),a("p",[s._v("通配符规则如下：")]),s._v(" "),a("div",{staticClass:"language-kotlin line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-kotlin"}},[a("code",[s._v("# 忽略"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class的所有文件\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class\n\n# 忽略名称中末尾为ignore的文件夹\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("ignore"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n\n# 忽略名称中间包含ignore的文件夹\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("ignore"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("作者：唯夜\n链接：https://www.jianshu.com/p/a09a9b40ad20\n来源：简书\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。")])])}),[],!1,null,null,null);t.default=e.exports}}]);