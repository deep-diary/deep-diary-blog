(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{657:function(s,n,t){"use strict";t.r(n);var a=t(5),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"upload-the-updated-blog-and-run"}},[s._v("Upload the Updated Blog and Run")]),s._v(" "),t("h2",{attrs:{id:"run-the-project"}},[s._v("run the project")]),s._v(" "),t("p",[s._v("enter the project folder, then type the below code to run the vscode")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("code "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# start the project")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs:dev\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# build the project")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs:build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"push-to-gitee-and-github"}},[s._v("push to gitee and github")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# push to github")]),s._v("\n./deploy.sh  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# push to gitee")]),s._v("\n./depoly_gitee.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"get-the-resource-from-gitee"}},[s._v("get the resource from gitee")]),s._v(" "),t("p",[s._v("login the cloud server through "),t("code",[s._v("Xshell")])]),s._v(" "),t("p",[s._v("the ip is 121.43.166.145")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@deep-diary:~/sites-available"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /home/")]),s._v("\nroot@deep-diary:/home"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nBackend  Backend_Harry  deep-diary  deep_diary  sites  start.sh  venv  venv_diary\nroot@deep-diary:/home"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./start.sh ")]),s._v("\nremote: Enumerating objects: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("637")]),s._v(", done.\nremote: Counting objects: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("637")]),s._v("/637"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", done.\nremote: Compressing objects: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v("/110"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", done.\nremote: Total "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("delta "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("238")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", reused "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("441")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("delta "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("236")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", pack-reused "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nReceiving objects: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("/443"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.20")]),s._v(" MiB "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.61")]),s._v(" MiB/s, done.\nResolving deltas: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("238")]),s._v("/238"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", completed with "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" objects.\nFrom gitee.com:deep-diary/deep-diary\n   a060c32"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("d78dd7f  master     -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" origin/master\nUpdating a060c32"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("d78dd7f\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h2",{attrs:{id:"config-the-nginx"}},[s._v("config the nginx")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /etc/nginx/sites-available/blog /etc/nginx/sites-enabled/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("the config in blog is:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 未带www的请求，统一分发到https://www上")]),s._v("\nserver "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server_name  blog.deep-diary.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("301")]),s._v(" https://blog.deep-diary.com"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$request_uri")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https 请求处理")]),s._v("\nserver "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" default_server ssl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server_name  blog.deep-diary.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ssl_certificate /etc/nginx/ssh/8876673_blog.deep-diary.com.pem"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ssl_certificate_key /etc/nginx/ssh/8876673_blog.deep-diary.com.key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    large_client_header_buffers "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" 16k"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    client_max_body_size 30m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    client_body_buffer_size 128k"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 域名默认映射到 http://127.0.0.1:7777")]),s._v("\n    location / "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        proxy_pass http://127.0.0.1:7777"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        proxy_redirect off"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        proxy_set_header Host "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        proxy_set_header X-Real-IP "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        proxy_set_header X-Forwarded-For "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy_add_x_forwarded_for")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        proxy_set_header Upgrade "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_upgrade")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        proxy_set_header Connection "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upgrade"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        root html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        index index.html index.html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("h2",{attrs:{id:"issues"}},[s._v("Issues")]),s._v(" "),t("p",[s._v("at this moment, the serve run in dev mode, then it spend more than "),t("strong",[s._v("==438368==")]),s._v(" memorys.")]),s._v(" "),t("p",[s._v("the total memory of this ECS is 2G, and the face recognition need 700M, so it will be run out of the memory")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@deep-diary:/etc/nginx/sites-available"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | sort -k4,4nr | head -n 10")]),s._v("\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("576235")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1219096")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("438368")]),s._v(" ?      Sl   Nov24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":35 /usr/local/bin/node /home/deep-diary/node_modules/.bin/vuepress dev docs --temp .temp\nmysql     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("578034")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1305820")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("368024")]),s._v(" ?      Ssl  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":58   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":21 /usr/sbin/mysqld\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("581681")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("645068")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("209044")]),s._v(" ?       S    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":02 /home/venv_diary/bin/python /home/venv_diary/bin/gunicorn --bind unix:/tmp/www.deep-diary.com.socket deep_diary.wsgi:application\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("426843")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137004")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34728")]),s._v(" ?        S"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sl Aug30 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1264")]),s._v(":29 /usr/local/aegis/aegis_client/aegis_11_37/AliYunDun\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("576213")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("775412")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35256")]),s._v(" ?        Sl   Nov24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":15 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" /usr/share/yarn/bin/yarn.js docs:dev\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("581676")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33044")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22960")]),s._v(" ?        S    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":24   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01 /home/venv_diary/bin/python /home/venv_diary/bin/gunicorn --bind unix:/tmp/www.deep-diary.com.socket deep_diary.wsgi:application\nroot        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1331")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("724568")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16712")]),s._v(" ?        Sl   Jan10 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("624")]),s._v(":16 CmsGoAgent-Worker start\nroot       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45648")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("59608")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15164")]),s._v(" ?        S"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("s  Jan21   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":31 /lib/systemd/systemd-journald\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("534410")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("813012")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11912")]),s._v(" ?        Ssl  Oct31  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":59 /usr/local/share/aliyun-assist/2.2.3.349/aliyun-service\nroot      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("590083")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13896")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(" ?        Ss   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":43   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 sshd: root@pts/1\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"solution"}},[s._v("Solution")]),s._v(" "),t("p",[s._v("in the serve, visit the dist file through nginx directly, so we need do some modification, in a nut shell:")]),s._v(" "),t("p",[s._v("==change the absolution path to relative path,  "),t("code",[s._v("/")]),s._v(" will be the root of the drive, instead of the project root. this is the reason that the project couldn't find the static resource==")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://deep-diary.oss-cn-hangzhou.aliyuncs.com/blog/image-20221125202838785.png",alt:"image-20221125202838785"}})]),s._v(" "),t("h3",{attrs:{id:"update-the-nginx"}},[s._v("update the nginx")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  charset utf-8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  listen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  server_name deepdiary.cn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改成你的 IP")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 server 的根路径")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改为你的项目的路径")]),s._v("\n  root /home/blog"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其他所有请求均直接请求 Vue 打包的 html 文件")]),s._v("\n  location / "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    try_files /index.html "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);