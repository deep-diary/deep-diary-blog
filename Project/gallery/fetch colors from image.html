<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>fetch colors from the image | Deep Diary</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script charset="utf-8" src="/js/custom.js"></script>
    <meta name="description" content="基于深度学习，专注于旅游，记忆追溯相关的开发">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification">
    <meta name="keywords" content="深记,deep-diary,自建博客,葛维冬，深度学习，记忆追溯">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="robots" content="all">
    <meta name="author" content="deep-diary">
    
    <link rel="preload" href="/assets/css/0.styles.bfd62ff8.css" as="style"><link rel="preload" href="/assets/js/app.06d47b9d.js" as="script"><link rel="preload" href="/assets/js/4.ddcf94e0.js" as="script"><link rel="preload" href="/assets/js/1.dee964bb.js" as="script"><link rel="preload" href="/assets/js/50.6ef19361.js" as="script"><link rel="preload" href="/assets/js/10.51e38269.js" as="script"><link rel="prefetch" href="/assets/js/100.cc9d71a8.js"><link rel="prefetch" href="/assets/js/101.e3bd5405.js"><link rel="prefetch" href="/assets/js/102.37350233.js"><link rel="prefetch" href="/assets/js/103.3634a0fc.js"><link rel="prefetch" href="/assets/js/104.a41513c6.js"><link rel="prefetch" href="/assets/js/105.f0061086.js"><link rel="prefetch" href="/assets/js/106.9f976bce.js"><link rel="prefetch" href="/assets/js/107.0cd16123.js"><link rel="prefetch" href="/assets/js/108.395a29de.js"><link rel="prefetch" href="/assets/js/109.6a6ddea3.js"><link rel="prefetch" href="/assets/js/11.e5b6f4c2.js"><link rel="prefetch" href="/assets/js/110.84e01b0c.js"><link rel="prefetch" href="/assets/js/111.26ca25ac.js"><link rel="prefetch" href="/assets/js/112.03c7ee91.js"><link rel="prefetch" href="/assets/js/113.f5b7b1fe.js"><link rel="prefetch" href="/assets/js/114.8d39fb2b.js"><link rel="prefetch" href="/assets/js/115.f02ad2c4.js"><link rel="prefetch" href="/assets/js/116.245fe9ad.js"><link rel="prefetch" href="/assets/js/12.dac87fca.js"><link rel="prefetch" href="/assets/js/13.d9355def.js"><link rel="prefetch" href="/assets/js/14.11c18bbb.js"><link rel="prefetch" href="/assets/js/15.3c0fabce.js"><link rel="prefetch" href="/assets/js/16.aae16d08.js"><link rel="prefetch" href="/assets/js/17.ab7555cb.js"><link rel="prefetch" href="/assets/js/18.a8c7c83b.js"><link rel="prefetch" href="/assets/js/19.8cfdab67.js"><link rel="prefetch" href="/assets/js/20.bf9d2368.js"><link rel="prefetch" href="/assets/js/21.9ea1cb9f.js"><link rel="prefetch" href="/assets/js/22.4d1d6918.js"><link rel="prefetch" href="/assets/js/23.14c86f96.js"><link rel="prefetch" href="/assets/js/24.ca467894.js"><link rel="prefetch" href="/assets/js/25.a8064bef.js"><link rel="prefetch" href="/assets/js/26.6c7bca23.js"><link rel="prefetch" href="/assets/js/27.3e5e16b9.js"><link rel="prefetch" href="/assets/js/28.7012292b.js"><link rel="prefetch" href="/assets/js/29.b8134971.js"><link rel="prefetch" href="/assets/js/30.12a52950.js"><link rel="prefetch" href="/assets/js/31.369052ad.js"><link rel="prefetch" href="/assets/js/32.27af021f.js"><link rel="prefetch" href="/assets/js/33.b28aec33.js"><link rel="prefetch" href="/assets/js/34.23886262.js"><link rel="prefetch" href="/assets/js/35.b3c3c874.js"><link rel="prefetch" href="/assets/js/36.f348bf29.js"><link rel="prefetch" href="/assets/js/37.5a620585.js"><link rel="prefetch" href="/assets/js/38.29d31ac3.js"><link rel="prefetch" href="/assets/js/39.65361890.js"><link rel="prefetch" href="/assets/js/40.179ec406.js"><link rel="prefetch" href="/assets/js/41.9bed72d5.js"><link rel="prefetch" href="/assets/js/42.2d839aab.js"><link rel="prefetch" href="/assets/js/43.67a8aedc.js"><link rel="prefetch" href="/assets/js/44.13d65b57.js"><link rel="prefetch" href="/assets/js/45.265ac6b1.js"><link rel="prefetch" href="/assets/js/46.cca15f5c.js"><link rel="prefetch" href="/assets/js/47.53d18981.js"><link rel="prefetch" href="/assets/js/48.1e034b86.js"><link rel="prefetch" href="/assets/js/49.cb981183.js"><link rel="prefetch" href="/assets/js/5.58e443fd.js"><link rel="prefetch" href="/assets/js/51.54700ec6.js"><link rel="prefetch" href="/assets/js/52.cd6dbc38.js"><link rel="prefetch" href="/assets/js/53.8d0de436.js"><link rel="prefetch" href="/assets/js/54.c5ae7152.js"><link rel="prefetch" href="/assets/js/55.ccc3dea6.js"><link rel="prefetch" href="/assets/js/56.04b028cf.js"><link rel="prefetch" href="/assets/js/57.23957fad.js"><link rel="prefetch" href="/assets/js/58.4e79dcf9.js"><link rel="prefetch" href="/assets/js/59.e93f6c5d.js"><link rel="prefetch" href="/assets/js/6.43391b6b.js"><link rel="prefetch" href="/assets/js/60.9c344ac3.js"><link rel="prefetch" href="/assets/js/61.88323317.js"><link rel="prefetch" href="/assets/js/62.e40c814b.js"><link rel="prefetch" href="/assets/js/63.4a58a1fd.js"><link rel="prefetch" href="/assets/js/64.b2022e6d.js"><link rel="prefetch" href="/assets/js/65.d09e6269.js"><link rel="prefetch" href="/assets/js/66.a8c405ce.js"><link rel="prefetch" href="/assets/js/67.478a115f.js"><link rel="prefetch" href="/assets/js/68.ecf97bdf.js"><link rel="prefetch" href="/assets/js/69.eb5d56c7.js"><link rel="prefetch" href="/assets/js/7.706f533b.js"><link rel="prefetch" href="/assets/js/70.c0f22b84.js"><link rel="prefetch" href="/assets/js/71.dbf7b19f.js"><link rel="prefetch" href="/assets/js/72.d8fe63a7.js"><link rel="prefetch" href="/assets/js/73.920ba807.js"><link rel="prefetch" href="/assets/js/74.b08e4984.js"><link rel="prefetch" href="/assets/js/75.ae2555d6.js"><link rel="prefetch" href="/assets/js/76.418a5712.js"><link rel="prefetch" href="/assets/js/77.5a8c2c11.js"><link rel="prefetch" href="/assets/js/78.41ca4c6b.js"><link rel="prefetch" href="/assets/js/79.4b1a0fd7.js"><link rel="prefetch" href="/assets/js/8.5e0abf00.js"><link rel="prefetch" href="/assets/js/80.7e6313de.js"><link rel="prefetch" href="/assets/js/81.10173085.js"><link rel="prefetch" href="/assets/js/82.f23f7400.js"><link rel="prefetch" href="/assets/js/83.03fe8284.js"><link rel="prefetch" href="/assets/js/84.09f83631.js"><link rel="prefetch" href="/assets/js/85.838a4090.js"><link rel="prefetch" href="/assets/js/86.ab5dc24b.js"><link rel="prefetch" href="/assets/js/87.41afbdf2.js"><link rel="prefetch" href="/assets/js/88.58a20fa8.js"><link rel="prefetch" href="/assets/js/89.847595a1.js"><link rel="prefetch" href="/assets/js/9.2d9184d6.js"><link rel="prefetch" href="/assets/js/90.4c2589c1.js"><link rel="prefetch" href="/assets/js/91.17c51f4e.js"><link rel="prefetch" href="/assets/js/92.b8669ba2.js"><link rel="prefetch" href="/assets/js/93.89cad79c.js"><link rel="prefetch" href="/assets/js/94.14f4afb5.js"><link rel="prefetch" href="/assets/js/95.e12718f6.js"><link rel="prefetch" href="/assets/js/96.b08f5b6e.js"><link rel="prefetch" href="/assets/js/97.2078ea59.js"><link rel="prefetch" href="/assets/js/98.7860ab58.js"><link rel="prefetch" href="/assets/js/99.884dd058.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.e51760b9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bfd62ff8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-1c4f0192 data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-1c4f0192><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>Deep Diary</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Blue</span>
            
          <span data-v-6cbeab0a>2022 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Deep Diary</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Algorithm/" class="nav-link"><i class="iconfont undefined"></i>
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/categories/deep learning/" class="nav-link"><i class="iconfont undefined"></i>
  deep learning
</a></li><li class="dropdown-item"><!----> <a href="/categories/ROS/" class="nav-link"><i class="iconfont undefined"></i>
  ROS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Embedded/" class="nav-link"><i class="iconfont undefined"></i>
  Embedded
</a></li><li class="dropdown-item"><!----> <a href="/categories/ros2/" class="nav-link"><i class="iconfont undefined"></i>
  ros2
</a></li><li class="dropdown-item"><!----> <a href="/categories/Develop/" class="nav-link"><i class="iconfont undefined"></i>
  Develop
</a></li><li class="dropdown-item"><!----> <a href="/categories/Software/" class="nav-link"><i class="iconfont undefined"></i>
  Software
</a></li><li class="dropdown-item"><!----> <a href="/categories/guide/" class="nav-link"><i class="iconfont undefined"></i>
  guide
</a></li><li class="dropdown-item"><!----> <a href="/categories/Gallery/" class="nav-link"><i class="iconfont undefined"></i>
  Gallery
</a></li><li class="dropdown-item"><!----> <a href="/categories/参考资料/" class="nav-link"><i class="iconfont undefined"></i>
  参考资料
</a></li><li class="dropdown-item"><!----> <a href="/categories/conference/" class="nav-link"><i class="iconfont undefined"></i>
  conference
</a></li><li class="dropdown-item"><!----> <a href="/categories/blog/" class="nav-link"><i class="iconfont undefined"></i>
  blog
</a></li><li class="dropdown-item"><!----> <a href="/categories/vuepress/" class="nav-link"><i class="iconfont undefined"></i>
  vuepress
</a></li><li class="dropdown-item"><!----> <a href="/categories/gallery/" class="nav-link"><i class="iconfont undefined"></i>
  gallery
</a></li><li class="dropdown-item"><!----> <a href="/categories/Django/" class="nav-link"><i class="iconfont undefined"></i>
  Django
</a></li><li class="dropdown-item"><!----> <a href="/categories/Synology/" class="nav-link"><i class="iconfont undefined"></i>
  Synology
</a></li><li class="dropdown-item"><!----> <a href="/categories/WEB/" class="nav-link"><i class="iconfont undefined"></i>
  WEB
</a></li><li class="dropdown-item"><!----> <a href="/categories/voice/" class="nav-link"><i class="iconfont undefined"></i>
  voice
</a></li><li class="dropdown-item"><!----> <a href="/categories/PM/" class="nav-link"><i class="iconfont undefined"></i>
  PM
</a></li><li class="dropdown-item"><!----> <a href="/categories/project/" class="nav-link"><i class="iconfont undefined"></i>
  project
</a></li><li class="dropdown-item"><!----> <a href="/categories/django/" class="nav-link"><i class="iconfont undefined"></i>
  django
</a></li><li class="dropdown-item"><!----> <a href="/categories/database/" class="nav-link"><i class="iconfont undefined"></i>
  database
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-faq"></i>
      Guide
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link"><i class="iconfont undefined"></i>
  Guide
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Project
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/management/" class="nav-link"><i class="iconfont undefined"></i>
  Management
</a></li><li class="dropdown-item"><!----> <a href="/project/gallery/" class="nav-link"><i class="iconfont undefined"></i>
  Gallery
</a></li><li class="dropdown-item"><!----> <a href="/project/blog/" class="nav-link"><i class="iconfont undefined"></i>
  Blog
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Embedded
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Embedded/" class="nav-link"><i class="iconfont undefined"></i>
  Embedded
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Deep Learning
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Deep-Learning/" class="nav-link"><i class="iconfont undefined"></i>
  Deep Learning
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Web
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/Backend/Django/" class="nav-link"><i class="iconfont undefined"></i>
  Django
</a></li><li class="dropdown-item"><!----> <a href="/web/Database/mysql/" class="nav-link"><i class="iconfont undefined"></i>
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/web/backend/nginx/" class="nav-link"><i class="iconfont undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/web/frondend/vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/web/Database/" class="nav-link"><i class="iconfont undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/web/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Software
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Software/" class="nav-link"><i class="iconfont undefined"></i>
  Software
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-date"></i>
      Algorithm
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Algorithm/" class="nav-link"><i class="iconfont undefined"></i>
  Algorithm
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    Blue
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>77</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>103</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Algorithm/" class="nav-link"><i class="iconfont undefined"></i>
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/categories/deep learning/" class="nav-link"><i class="iconfont undefined"></i>
  deep learning
</a></li><li class="dropdown-item"><!----> <a href="/categories/ROS/" class="nav-link"><i class="iconfont undefined"></i>
  ROS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Embedded/" class="nav-link"><i class="iconfont undefined"></i>
  Embedded
</a></li><li class="dropdown-item"><!----> <a href="/categories/ros2/" class="nav-link"><i class="iconfont undefined"></i>
  ros2
</a></li><li class="dropdown-item"><!----> <a href="/categories/Develop/" class="nav-link"><i class="iconfont undefined"></i>
  Develop
</a></li><li class="dropdown-item"><!----> <a href="/categories/Software/" class="nav-link"><i class="iconfont undefined"></i>
  Software
</a></li><li class="dropdown-item"><!----> <a href="/categories/guide/" class="nav-link"><i class="iconfont undefined"></i>
  guide
</a></li><li class="dropdown-item"><!----> <a href="/categories/Gallery/" class="nav-link"><i class="iconfont undefined"></i>
  Gallery
</a></li><li class="dropdown-item"><!----> <a href="/categories/参考资料/" class="nav-link"><i class="iconfont undefined"></i>
  参考资料
</a></li><li class="dropdown-item"><!----> <a href="/categories/conference/" class="nav-link"><i class="iconfont undefined"></i>
  conference
</a></li><li class="dropdown-item"><!----> <a href="/categories/blog/" class="nav-link"><i class="iconfont undefined"></i>
  blog
</a></li><li class="dropdown-item"><!----> <a href="/categories/vuepress/" class="nav-link"><i class="iconfont undefined"></i>
  vuepress
</a></li><li class="dropdown-item"><!----> <a href="/categories/gallery/" class="nav-link"><i class="iconfont undefined"></i>
  gallery
</a></li><li class="dropdown-item"><!----> <a href="/categories/Django/" class="nav-link"><i class="iconfont undefined"></i>
  Django
</a></li><li class="dropdown-item"><!----> <a href="/categories/Synology/" class="nav-link"><i class="iconfont undefined"></i>
  Synology
</a></li><li class="dropdown-item"><!----> <a href="/categories/WEB/" class="nav-link"><i class="iconfont undefined"></i>
  WEB
</a></li><li class="dropdown-item"><!----> <a href="/categories/voice/" class="nav-link"><i class="iconfont undefined"></i>
  voice
</a></li><li class="dropdown-item"><!----> <a href="/categories/PM/" class="nav-link"><i class="iconfont undefined"></i>
  PM
</a></li><li class="dropdown-item"><!----> <a href="/categories/project/" class="nav-link"><i class="iconfont undefined"></i>
  project
</a></li><li class="dropdown-item"><!----> <a href="/categories/django/" class="nav-link"><i class="iconfont undefined"></i>
  django
</a></li><li class="dropdown-item"><!----> <a href="/categories/database/" class="nav-link"><i class="iconfont undefined"></i>
  database
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-faq"></i>
      Guide
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link"><i class="iconfont undefined"></i>
  Guide
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Project
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/management/" class="nav-link"><i class="iconfont undefined"></i>
  Management
</a></li><li class="dropdown-item"><!----> <a href="/project/gallery/" class="nav-link"><i class="iconfont undefined"></i>
  Gallery
</a></li><li class="dropdown-item"><!----> <a href="/project/blog/" class="nav-link"><i class="iconfont undefined"></i>
  Blog
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Embedded
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Embedded/" class="nav-link"><i class="iconfont undefined"></i>
  Embedded
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Deep Learning
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Deep-Learning/" class="nav-link"><i class="iconfont undefined"></i>
  Deep Learning
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Web
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/Backend/Django/" class="nav-link"><i class="iconfont undefined"></i>
  Django
</a></li><li class="dropdown-item"><!----> <a href="/web/Database/mysql/" class="nav-link"><i class="iconfont undefined"></i>
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/web/backend/nginx/" class="nav-link"><i class="iconfont undefined"></i>
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/web/frondend/vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/web/Database/" class="nav-link"><i class="iconfont undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/web/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      Software
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Software/" class="nav-link"><i class="iconfont undefined"></i>
  Software
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-date"></i>
      Algorithm
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Algorithm/" class="nav-link"><i class="iconfont undefined"></i>
  Algorithm
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Gallery</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Project/gallery/1. user login backend.html" class="sidebar-link">用户登入后端</a></li><li><a href="/Project/gallery/2. user login frontend.html" class="sidebar-link">用户登入前端</a></li><li><a href="/Project/gallery/3. gallery backend.html" class="sidebar-link">相册模块后台</a></li><li><a href="/Project/gallery/4. gallery frontend.html" class="sidebar-link">相册模块前台</a></li><li><a href="/Project/gallery/Amap.html" class="sidebar-link">高德地图</a></li><li><a href="/Project/gallery/Asynchronous tasks_celery.html" class="sidebar-link">Django 处理异步任务</a></li><li><a href="/Project/gallery/CND Improve the speed of website access.html" class="sidebar-link">CDN 提高网站访问速度</a></li><li><a href="/Project/gallery/Development environment setup.html" class="sidebar-link">搭建开发环境</a></li><li><a href="/Project/gallery/GraphNavigator.html" class="sidebar-link">GraphNavigator</a></li><li><a href="/Project/gallery/" aria-current="page" class="sidebar-link">Introduction of Gallery Project</a></li><li><a href="/Project/gallery/Server Deployment.html" class="sidebar-link">服务器部署</a></li><li><a href="/Project/gallery/build the face group.html" class="sidebar-link">Build the Face Group</a></li><li><a href="/Project/gallery/face recognition.html" class="sidebar-link">人脸模块后台</a></li><li><a href="/Project/gallery/fetch basic info from image.html" class="sidebar-link">fetch the basic info from image</a></li><li><a href="/Project/gallery/fetch categorizers from image.html" class="sidebar-link">fetch categorizers from the image</a></li><li><a href="/Project/gallery/fetch colors from image.html" class="active sidebar-link">fetch colors from the image</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Project/gallery/fetch colors from image.html#why-shall-we-need-to-fetch-color" class="sidebar-link">why shall we need to fetch color</a></li><li class="sidebar-sub-header"><a href="/Project/gallery/fetch colors from image.html#how-do-we-fetch-the-color" class="sidebar-link">how do we fetch the color</a></li><li class="sidebar-sub-header"><a href="/Project/gallery/fetch colors from image.html#how-to-show-the-colors-of-the-image" class="sidebar-link">how to show the colors of the image</a></li></ul></li><li><a href="/Project/gallery/fetch gps.html" class="sidebar-link">fetch gps</a></li><li><a href="/Project/gallery/fetch tags from image.html" class="sidebar-link">fetch tags from the image</a></li><li><a href="/Project/gallery/fetch wechat.html" class="sidebar-link">fetch wechat</a></li><li><a href="/Project/gallery/git version control.html" class="sidebar-link">git version control</a></li><li><a href="/Project/gallery/graph database_Neo4j.html" class="sidebar-link">图数据库neo4j</a></li><li><a href="/Project/gallery/https.html" class="sidebar-link">update http to https</a></li><li><a href="/Project/gallery/infinite scroll.html" class="sidebar-link">Infinite Scroll</a></li><li><a href="/Project/gallery/object identification.html" class="sidebar-link">目标后台</a></li><li><a href="/Project/gallery/oss storage.html" class="sidebar-link">Django 实现云存储</a></li><li><a href="/Project/gallery/quick search.html" class="sidebar-link">quick search</a></li><li><a href="/Project/gallery/setting of backend.html" class="sidebar-link">setting of backend</a></li><li><a href="/Project/gallery/synology.html" class="sidebar-link">Synology</a></li><li><a href="/Project/gallery/trademark registration.html" class="sidebar-link">商标注册</a></li><li><a href="/Project/gallery/upload the image.html" class="sidebar-link">upload the image</a></li><li><a href="/Project/gallery/voice.html" class="sidebar-link">voice</a></li><li><a href="/Project/gallery/vue-awesome-swiper.html" class="sidebar-link">vue-awesome-swiper</a></li><li><a href="/Project/gallery/web3.html" class="sidebar-link">web3</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>fetch colors from the image</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Blue</span>
            
          <span data-v-6cbeab0a>2022 - </span>
          2023
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>fetch colors from the image</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>Blue</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2022-09-18</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      color
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p class="custom-block-title">说明</p> <p>​	introduce how to fetch colors, like background color, foreground color and image color from an image。</p> <p><a href="www.deep-diary.com">点击免费观看教学视频</a></p></div> <h1 id="fetch-color-from-the-image">fetch color from the image</h1> <h2 id="why-shall-we-need-to-fetch-color">why shall we need to fetch color</h2> <h3 id="online-stores">Online Stores</h3> <p>With tons of product images it's hard to find the right ones. While brand, model and size are important, color still has a significant role in the purchase decision. Our Color API enables you to give your users a powerful and easy way to find the color they want.</p> <h3 id="fashion-and-design-inspiration-websites">Fashion and Design Inspiration Websites</h3> <p>Lots of users search for inspiration or upload their own inspiring images online. Having color extraction and search in your system enables you to suggest them more and more inspiring stuff based on similar or complementary colors.</p> <h3 id="content-management-systems">Content Management Systems</h3> <p>If we uploads tons of product images to the system, we would have to identify and assign the right colors for each product. This can be hard for us  and also requires time that could otherwise be spent on doing something more creative and productive. Our color extraction solves this automatically.</p> <h2 id="how-do-we-fetch-the-color">how do we fetch the color</h2> <p>we using the <code>imagga</code> api to fetch the color</p> <h3 id="api-format">api format</h3> <p>the api format is as follows:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;colors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;background_colors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">47</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light bronze&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#8c5e37&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skin&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">1.70506228322597</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">92</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#8c5c2f&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">48.0033950805664</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">140</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">146</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cerulean&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#0074a8&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">5.53350780052479</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">116</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#467492&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">39.0454025268555</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">70</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dark bronze&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#542e0c&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skin&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">5.47689735887696</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">48</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#4f301e&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">12.9512014389038</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">79</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;color_percent_threshold&quot;</span><span class="token operator">:</span> <span class="token number">1.75</span><span class="token punctuation">,</span>
      <span class="token property">&quot;color_variance&quot;</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
      <span class="token property">&quot;foreground_colors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">147</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;larkspur&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#6e7e99&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">8.60114706674971</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">125</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#577d93&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">52.3429222106934</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">87</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">145</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pewter&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#84898c&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;grey&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">1.75501013175431</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">142</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#898e91&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">30.0293598175049</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">137</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brownie&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#584039&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brown&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">4.99189248709017</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">58</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#593a2a&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">17.6277160644531</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">89</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;image_colors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">146</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cerulean&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#0074a8&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">7.85085588656478</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">121</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#547992&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">48.3686981201172</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">84</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light bronze&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#8c5e37&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skin&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">3.05634270891355</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">86</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#83562e&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">47.9353446960449</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">131</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navy blue&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#2b2e43&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navy blue&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">6.62790662069936</span><span class="token punctuation">,</span>
          <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
          <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#1f1b2e&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">3.60131478309631</span><span class="token punctuation">,</span>
          <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">31</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;object_percentage&quot;</span><span class="token operator">:</span> <span class="token number">20.790994644165</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br></div></div><h3 id="view-design">View Design</h3> <p>first, we need package the <code>imagga API</code>, which could be used in many endpoints</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">imagga_post</span><span class="token punctuation">(</span>img_path<span class="token punctuation">,</span> endpoint<span class="token punctuation">,</span> query<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># using the loca img</span>

    <span class="token keyword">if</span> query <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        query <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    query <span class="token operator">=</span> query<span class="token punctuation">.</span>update<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>
        <span class="token string">'%s/%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>ENDPOINT<span class="token punctuation">,</span> endpoint<span class="token punctuation">)</span><span class="token punctuation">,</span>
        auth<span class="token operator">=</span><span class="token punctuation">(</span>api_key<span class="token punctuation">,</span> api_secret<span class="token punctuation">)</span><span class="token punctuation">,</span>
        files<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'image'</span><span class="token punctuation">:</span> <span class="token builtin">open</span><span class="token punctuation">(</span>img_path<span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        params<span class="token operator">=</span>query<span class="token punctuation">)</span>

    <span class="token keyword">return</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">imagga_get</span><span class="token punctuation">(</span>image_url<span class="token punctuation">,</span> endpoint<span class="token punctuation">,</span> query_add<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> upload_id<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># query must include the 'image_url'</span>
    <span class="token keyword">if</span> query_add <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        query_add <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    query <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'image_upload_id'</span> <span class="token keyword">if</span> upload_id <span class="token keyword">else</span> <span class="token string">'image_url'</span><span class="token punctuation">:</span> image_url<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    query <span class="token operator">=</span> query<span class="token punctuation">.</span>update<span class="token punctuation">(</span>query_add<span class="token punctuation">)</span>

    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>
        <span class="token string">'%s/%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>ENDPOINT<span class="token punctuation">,</span> endpoint<span class="token punctuation">)</span><span class="token punctuation">,</span>
        auth<span class="token operator">=</span><span class="token punctuation">(</span>api_key<span class="token punctuation">,</span> api_secret<span class="token punctuation">)</span><span class="token punctuation">,</span>
        files<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'image'</span><span class="token punctuation">:</span> <span class="token builtin">open</span><span class="token punctuation">(</span>image_url<span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        params<span class="token operator">=</span>query<span class="token punctuation">)</span>

    <span class="token keyword">return</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>second step, we need package the colors api based on the image path</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># @ shared_task</span>
<span class="token keyword">def</span> <span class="token function">set_img_colors</span><span class="token punctuation">(</span>img_obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># this is through post method to get the tags. mainly is used for local img</span>
    img_path <span class="token operator">=</span> img_obj<span class="token punctuation">.</span>src<span class="token punctuation">.</span>path
    endpoint <span class="token operator">=</span> <span class="token string">'colors'</span>
    <span class="token comment"># color_query = {                 #  if it is necessary, we could add the query info here</span>
    <span class="token comment">#     'verbose': False,</span>
    <span class="token comment">#     'language': False,</span>
    <span class="token comment">#     'threshold': 25.0,</span>
    <span class="token comment"># # }</span>

    response <span class="token operator">=</span> imagga_post<span class="token punctuation">(</span>img_path<span class="token punctuation">,</span> endpoint<span class="token punctuation">)</span>
    <span class="token comment"># print(response)</span>
    <span class="token comment"># with open(&quot;colors.txt&quot;, 'wb') as f:  # store the result object, which will helpful for debugging</span>
    <span class="token comment">#     pickle.dump(response, f)</span>

    <span class="token comment"># with open(&quot;colors.txt&quot;, 'rb') as f:  # during the debug, we could using the local stored object. since the api numbers is limited</span>
    <span class="token comment">#     response = pickle.load(f)</span>

    <span class="token comment"># print(response)</span>

    <span class="token keyword">if</span> response<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'success'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">if</span> <span class="token string">'result'</span> <span class="token keyword">in</span> response<span class="token punctuation">:</span>
        colors <span class="token operator">=</span> response<span class="token punctuation">[</span><span class="token string">'result'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>endpoint<span class="token punctuation">]</span>
        background_colors <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token string">'background_colors'</span><span class="token punctuation">]</span>
        foreground_colors <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token string">'foreground_colors'</span><span class="token punctuation">]</span>
        image_colors <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token string">'image_colors'</span><span class="token punctuation">]</span>

        <span class="token comment"># print(colors)</span>

        <span class="token comment"># 调用序列化器进行反序列化验证和转换</span>
        colors<span class="token punctuation">.</span>update<span class="token punctuation">(</span>img<span class="token operator">=</span>img_obj<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span>     <span class="token comment"># bind the one to one field image info</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>img_obj<span class="token punctuation">,</span> <span class="token string">'colors'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># if img_obj have no attribute of colors, then create it</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'no colors object existed'</span><span class="token punctuation">)</span>
            serializer <span class="token operator">=</span> ColorSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>colors<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>                               <span class="token comment"># if img_obj already have attribute of colors, then updated it</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'colors object already existed'</span><span class="token punctuation">)</span>
            serializer <span class="token operator">=</span> ColorSerializer<span class="token punctuation">(</span>img_obj<span class="token punctuation">.</span>colors<span class="token punctuation">,</span> data<span class="token operator">=</span>colors<span class="token punctuation">)</span>
        result <span class="token operator">=</span> serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span>raise_exception<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        color_obj <span class="token operator">=</span> serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token keyword">not</span> color_obj<span class="token punctuation">.</span>background<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> bk <span class="token keyword">in</span> background_colors<span class="token punctuation">:</span>
                bk<span class="token punctuation">.</span>update<span class="token punctuation">(</span>color<span class="token operator">=</span>color_obj<span class="token punctuation">.</span>pk<span class="token punctuation">)</span>
                serializer <span class="token operator">=</span> ColorBackgroundSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>bk<span class="token punctuation">)</span>
                result <span class="token operator">=</span> serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span>raise_exception<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                back_color_obj <span class="token operator">=</span> serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># else:</span>
            <span class="token comment"># for bk in background_colors:</span>
            <span class="token comment">#     bk.update(color=color_obj.pk)</span>
            <span class="token comment">#     serializer = ColorBackgroundSerializer(color_obj.background, data=bk)</span>
            <span class="token comment">#     result = serializer.is_valid(raise_exception=True)</span>
            <span class="token comment">#     back_color_obj = serializer.save()</span>

        <span class="token keyword">if</span> <span class="token keyword">not</span> color_obj<span class="token punctuation">.</span>foreground<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> fore <span class="token keyword">in</span> foreground_colors<span class="token punctuation">:</span>
                fore<span class="token punctuation">.</span>update<span class="token punctuation">(</span>color<span class="token operator">=</span>color_obj<span class="token punctuation">.</span>pk<span class="token punctuation">)</span>
                serializer <span class="token operator">=</span> ColorForegroundSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>fore<span class="token punctuation">)</span>
                result <span class="token operator">=</span> serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span>raise_exception<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                fore_color_obj <span class="token operator">=</span> serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># else:</span>
        <span class="token comment">#     for fore in foreground_colors:</span>
        <span class="token comment">#         fore.update(color=color_obj.pk)</span>
        <span class="token comment">#         serializer = ColorForegroundSerializer(color_obj.foreground, data=fore)</span>
        <span class="token comment">#         result = serializer.is_valid(raise_exception=True)</span>
        <span class="token comment">#         fore_color_obj = serializer.save()</span>

        <span class="token keyword">if</span> <span class="token keyword">not</span> color_obj<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> img <span class="token keyword">in</span> image_colors<span class="token punctuation">:</span>
                img<span class="token punctuation">.</span>update<span class="token punctuation">(</span>color<span class="token operator">=</span>color_obj<span class="token punctuation">.</span>pk<span class="token punctuation">)</span>
                serializer <span class="token operator">=</span> ColorImgSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>img<span class="token punctuation">)</span>
                result <span class="token operator">=</span> serializer<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span>raise_exception<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                img_color_obj <span class="token operator">=</span> serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># else:</span>
        <span class="token comment">#     for img in image_colors:</span>
        <span class="token comment">#         img.update(color=color_obj.pk)</span>
        <span class="token comment">#         serializer = ColorImgSerializer(color_obj.image, data=img)</span>
        <span class="token comment">#         result = serializer.is_valid(raise_exception=True)</span>
        <span class="token comment">#         img_color_obj = serializer.save()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p>OK， all the <code>api</code> package or function is finished. what we shall to do next is just call the function in the <code>ImgViewSet</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ImgViewSet</span><span class="token punctuation">(</span>viewsets<span class="token punctuation">.</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token decorator annotation punctuation">@action</span><span class="token punctuation">(</span>detail<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'get'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 在详情中才能使用这个自定义动作</span>
    <span class="token keyword">def</span> <span class="token function">set_colors</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> pk<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 当detail=True 的时候，需要指定第三个参数，如果未指定look_up, 默认值为pk，如果指定，该值为loop_up的值</span>
        img <span class="token operator">=</span> self<span class="token punctuation">.</span>get_object<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取详情的实例对象</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'INFO pk: </span><span class="token interpolation"><span class="token punctuation">{</span>pk<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'INFO img: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'INFO img: </span><span class="token interpolation"><span class="token punctuation">{</span>img<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        
        set_img_colors<span class="token punctuation">(</span>img<span class="token punctuation">)</span>  <span class="token comment"># call the function here</span>

        serializer <span class="token operator">=</span> ImgDetailSerializer<span class="token punctuation">(</span>img<span class="token punctuation">,</span> many<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> context<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'request'</span><span class="token punctuation">:</span> request<span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment"># 不报错</span>
        <span class="token comment"># serializer = ImgSerializer(img, many=False)  # 报错</span>
        <span class="token comment"># serializer = self.get_serializer(img)</span>
        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>serializer<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>after all, we could fetch the color based on this api</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>localhost<span class="token punctuation">:</span><span class="token number">8000</span><span class="token operator">/</span>api<span class="token operator">/</span>img<span class="token operator">/</span><span class="token number">433</span><span class="token operator">/</span>set_colors
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>in any case, we need fetch all the img object that do not have the color info yet, so we need a batch process furtions</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token decorator annotation punctuation">@shared_task</span> <span class="token comment"># decorator of asynchronous process</span>
<span class="token keyword">def</span> <span class="token function">set_all_img_colors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    imgs <span class="token operator">=</span> Img<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> img <span class="token keyword">in</span> imgs<span class="token punctuation">:</span>
        set_img_colors<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="model-design">Model Design</h3> <p>so based on the api formate, we need to design the database model to store the result after fetching the color based this api.</p> <p>here we designed 5 models:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>Color<span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span>  <span class="token comment"># this is the Root Color model, which is onetoone field of Img model</span>
ColorItem<span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span>  <span class="token comment"># each color items, which is the father model of ColorBackground, ColorForeground, ColorImg </span>
ColorBackground<span class="token punctuation">(</span>ColorItem<span class="token punctuation">)</span>
ColorForeground<span class="token punctuation">(</span>ColorItem<span class="token punctuation">)</span>
ColorImg<span class="token punctuation">(</span>ColorItem<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>now let's see the details of this model:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Color</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    img <span class="token operator">=</span> models<span class="token punctuation">.</span>OneToOneField<span class="token punctuation">(</span>
        Img<span class="token punctuation">,</span>
        related_name<span class="token operator">=</span><span class="token string">'colors'</span><span class="token punctuation">,</span>
        on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">,</span>
        primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    color_variance <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;color_variance&quot;</span><span class="token punctuation">,</span>
                                         help_text<span class="token operator">=</span><span class="token string">'a number that shows how varied the colors in the image are'</span><span class="token punctuation">)</span>
    object_percentage <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;object_percentage&quot;</span><span class="token punctuation">,</span>
                                          help_text<span class="token operator">=</span><span class="token string">'a floating point number that shows what part of the image '</span>
                                                    <span class="token string">'is taken by the main object (as a percent from 0 to 100)'</span><span class="token punctuation">)</span>
    color_percent_threshold <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;object_percentage&quot;</span><span class="token punctuation">,</span>
                                          help_text<span class="token operator">=</span><span class="token string">'colors with `percentage` value lower than this number won’t be included in the response'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>img<span class="token punctuation">.</span>filename


<span class="token keyword">class</span> <span class="token class-name">ColorItem</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    r <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;red color&quot;</span><span class="token punctuation">,</span>
                            help_text<span class="token operator">=</span><span class="token string">'numbers between 0 and 255 that represent the red, components of the color'</span><span class="token punctuation">)</span>
    g <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;green color&quot;</span><span class="token punctuation">,</span>
                            help_text<span class="token operator">=</span><span class="token string">'numbers between 0 and 255 that represent the green components of the color'</span><span class="token punctuation">)</span>
    b <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;blue color&quot;</span><span class="token punctuation">,</span>
                            help_text<span class="token operator">=</span><span class="token string">'numbers between 0 and 255 that represent the  blue components of the color'</span><span class="token punctuation">)</span>

    closest_palette_color_html_code <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
                                               verbose_name<span class="token operator">=</span><span class="token string">&quot;palette_color_html_code&quot;</span><span class="token punctuation">,</span>
                                               help_text<span class="token operator">=</span><span class="token string">'palette_color_html_code'</span><span class="token punctuation">)</span>

    closest_palette_color <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;palette_color&quot;</span><span class="token punctuation">,</span>
                                     help_text<span class="token operator">=</span><span class="token string">'palette_color'</span><span class="token punctuation">)</span>

    closest_palette_color_parent <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;palette_color_parent&quot;</span><span class="token punctuation">,</span>
                                            help_text<span class="token operator">=</span><span class="token string">'palette_color_parent'</span><span class="token punctuation">)</span>

    closest_palette_distance <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">'closest_palette_color_parent'</span><span class="token punctuation">,</span>
                                         help_text<span class="token operator">=</span><span class="token string">'how close this color is to the one under the `closest_palette_color` key'</span><span class="token punctuation">)</span>

    percent <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;object_percentage&quot;</span><span class="token punctuation">,</span>
                                   help_text<span class="token operator">=</span><span class="token string">'a floating point number that shows what part of the image '</span>
                                             <span class="token string">'is taken by the main object (as a percent from 0 to 100)'</span><span class="token punctuation">)</span>

    html_code <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose_name<span class="token operator">=</span><span class="token string">&quot;palette_color_html_code&quot;</span><span class="token punctuation">,</span>
                                 help_text<span class="token operator">=</span><span class="token string">'palette_color_html_code'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>closest_palette_color_parent


<span class="token keyword">class</span> <span class="token class-name">ColorBackground</span><span class="token punctuation">(</span>ColorItem<span class="token punctuation">)</span><span class="token punctuation">:</span>
    color <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Color<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'background'</span><span class="token punctuation">,</span>
                              verbose_name<span class="token operator">=</span><span class="token string">&quot;BackgroundColor&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ColorForeground</span><span class="token punctuation">(</span>ColorItem<span class="token punctuation">)</span><span class="token punctuation">:</span>
    color <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Color<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'foreground'</span><span class="token punctuation">,</span>
                              verbose_name<span class="token operator">=</span><span class="token string">&quot;ColorForeground&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ColorImg</span><span class="token punctuation">(</span>ColorItem<span class="token punctuation">)</span><span class="token punctuation">:</span>
    color <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Color<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">,</span> related_name<span class="token operator">=</span><span class="token string">'image'</span><span class="token punctuation">,</span>
                              verbose_name<span class="token operator">=</span><span class="token string">&quot;ColorImg&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><h4 id="store-the-father-color">Store the father color</h4> <p>for the api, only return the html_code for the image, however, for the category , we need store the father Html_code since there are many image color types.</p> <p>so we need prepare for the parent html_code first</p> <p>unfortunately, we copy the result from the api doc. however, the format is not right yet. so we need to change the format.</p> <p>here we using an software called ==textpro==</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># original format</span>
color_palette <span class="token operator">=</span> <span class="token punctuation">{</span>
    beige<span class="token punctuation">:</span> <span class="token comment">#e0c4b2   # ---&gt;&quot;beige&quot;: '#e0c4b2'</span>
    hot pink<span class="token punctuation">:</span> <span class="token comment">#c73d77   # ---&gt;&quot;hot_pink&quot;: '#c73d77'</span>
    magenta<span class="token punctuation">:</span> <span class="token comment">#a7346e</span>
    red<span class="token punctuation">:</span> <span class="token comment">#ae2935</span>
    black<span class="token punctuation">:</span> <span class="token comment">#39373b</span>
    teal<span class="token punctuation">:</span> <span class="token comment">#426972</span>
    lavender<span class="token punctuation">:</span> <span class="token comment">#6a6378</span>
    maroon<span class="token punctuation">:</span> <span class="token comment">#6c2135</span>
    blue<span class="token punctuation">:</span> <span class="token comment">#2f5e97</span>
    light blue<span class="token punctuation">:</span> <span class="token comment">#99b1cb</span>
    mauve<span class="token punctuation">:</span> <span class="token comment">#ac6075</span>
    turquoise<span class="token punctuation">:</span> <span class="token comment">#38afcd</span>
    brown<span class="token punctuation">:</span> <span class="token comment">#574039</span>
    navy blue<span class="token punctuation">:</span> <span class="token comment">#2b2e43</span>
    violet<span class="token punctuation">:</span> <span class="token comment">#473854</span>
    dark green<span class="token punctuation">:</span> <span class="token comment">#176352</span>
    light brown<span class="token punctuation">:</span> <span class="token comment">#ac8a64</span>
    orange<span class="token punctuation">:</span> <span class="token comment">#e2855e</span>
    white<span class="token punctuation">:</span> <span class="token comment">#f4f5f0</span>
    gold<span class="token punctuation">:</span> <span class="token comment">#dcba60</span>
    light green<span class="token punctuation">:</span> <span class="token comment">#aec98e</span>
    pink<span class="token punctuation">:</span> <span class="token comment">#e3768c</span>
    yellow<span class="token punctuation">:</span> <span class="token comment">#ebd07f</span>
    green<span class="token punctuation">:</span> <span class="token comment">#359369</span>
    olive green<span class="token punctuation">:</span><span class="token comment">#7f8765</span>
    plum<span class="token punctuation">:</span> <span class="token comment">#58304e</span>
    skin<span class="token punctuation">:</span> <span class="token comment">#bd9769</span>
    greige<span class="token punctuation">:</span> <span class="token comment">#a4b39f</span>
    light grey<span class="token punctuation">:</span> <span class="token comment">#bcb8b8</span>
    purple<span class="token punctuation">:</span> <span class="token comment">#875287</span>
    grey<span class="token punctuation">:</span> <span class="token comment">#8c8c8c</span>
    light pink<span class="token punctuation">:</span> <span class="token comment">#e6c1be</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ul><li><code>(\a&gt;) (\a)</code>   ----&gt; <code>\1_\2</code>,  change the space to under line</li> <li><code>(&lt;\a.*):</code> ----&gt;  <code>&quot;\1&quot;:</code>, add the quotation mark for the key</li> <li><code>(#.*$)</code>  ----&gt;  <code>'\1'</code>, add the quotation mark for the value</li> <li><code>'$</code>  ---&gt;    <code>',</code>, add the comma at the end of the value</li></ul> <p>after those 4 steps of change, we could get the result, which are just we wanted</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>color_palette <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;beige&quot;</span><span class="token punctuation">:</span> <span class="token string">'#e0c4b2'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;hot_pink&quot;</span><span class="token punctuation">:</span> <span class="token string">'#c73d77'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;magenta&quot;</span><span class="token punctuation">:</span> <span class="token string">'#a7346e'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;red&quot;</span><span class="token punctuation">:</span> <span class="token string">'#ae2935'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;black&quot;</span><span class="token punctuation">:</span> <span class="token string">'#39373b'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;teal&quot;</span><span class="token punctuation">:</span> <span class="token string">'#426972'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lavender&quot;</span><span class="token punctuation">:</span> <span class="token string">'#6a6378'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;maroon&quot;</span><span class="token punctuation">:</span> <span class="token string">'#6c2135'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;blue&quot;</span><span class="token punctuation">:</span> <span class="token string">'#2f5e97'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;light_blue&quot;</span><span class="token punctuation">:</span> <span class="token string">'#99b1cb'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;mauve&quot;</span><span class="token punctuation">:</span> <span class="token string">'#ac6075'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;turquoise&quot;</span><span class="token punctuation">:</span> <span class="token string">'#38afcd'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;brown&quot;</span><span class="token punctuation">:</span> <span class="token string">'#574039'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;navy_blue&quot;</span><span class="token punctuation">:</span> <span class="token string">'#2b2e43'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;violet&quot;</span><span class="token punctuation">:</span> <span class="token string">'#473854'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dark_green&quot;</span><span class="token punctuation">:</span> <span class="token string">'#176352'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;light_brown&quot;</span><span class="token punctuation">:</span> <span class="token string">'#ac8a64'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;orange&quot;</span><span class="token punctuation">:</span> <span class="token string">'#e2855e'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;white&quot;</span><span class="token punctuation">:</span> <span class="token string">'#f4f5f0'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gold&quot;</span><span class="token punctuation">:</span> <span class="token string">'#dcba60'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;light_green&quot;</span><span class="token punctuation">:</span> <span class="token string">'#aec98e'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pink&quot;</span><span class="token punctuation">:</span> <span class="token string">'#e3768c'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">:</span> <span class="token string">'#ebd07f'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;green&quot;</span><span class="token punctuation">:</span> <span class="token string">'#359369'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;olive_green&quot;</span><span class="token punctuation">:</span><span class="token string">'#7f8765'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plum&quot;</span><span class="token punctuation">:</span> <span class="token string">'#58304e'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;skin&quot;</span><span class="token punctuation">:</span> <span class="token string">'#bd9769'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;greige&quot;</span><span class="token punctuation">:</span> <span class="token string">'#a4b39f'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;light_grey&quot;</span><span class="token punctuation">:</span> <span class="token string">'#bcb8b8'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;purple&quot;</span><span class="token punctuation">:</span> <span class="token string">'#875287'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;grey&quot;</span><span class="token punctuation">:</span> <span class="token string">'#8c8c8c'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;light_pink&quot;</span><span class="token punctuation">:</span> <span class="token string">'#e6c1be'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="serializer-design">Serializer Design</h3> <p>the serializer for this is very easy, we just display all.</p> <h4 id="relationship">Relationship</h4> <p>however, we meed to clarifying the relationship first, after that, we could include the child serializes step by step</p> <blockquote><p>ColorSerializer</p> <blockquote><p>ColorBackgroundSerializer</p> <p>ColorForegroundSerializer</p> <p>ColorImgSerializer</p> <blockquote><p>ColorItemSerializer</p></blockquote></blockquote></blockquote> <h4 id="design">Design</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ColorItemSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> ColorItem
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>


<span class="token keyword">class</span> <span class="token class-name">ColorBackgroundSerializer</span><span class="token punctuation">(</span>ColorItemSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> ColorBackground
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>


<span class="token keyword">class</span> <span class="token class-name">ColorForegroundSerializer</span><span class="token punctuation">(</span>ColorItemSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> ColorForeground
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>


<span class="token keyword">class</span> <span class="token class-name">ColorImgSerializer</span><span class="token punctuation">(</span>ColorItemSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> ColorImg
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>


<span class="token keyword">class</span> <span class="token class-name">ColorSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    background <span class="token operator">=</span> ColorBackgroundSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    foreground <span class="token operator">=</span> ColorForegroundSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    image <span class="token operator">=</span> ColorImgSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Color
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>finally,  we could using this serializer in the <code>ImgDetailSerializer</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ImgDetailSerializer</span><span class="token punctuation">(</span>ImgSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 直接继承ImgSerializer也是可以的</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    colors <span class="token operator">=</span> ColorSerializer<span class="token punctuation">(</span>read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># this name should be the same as model related name</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="result">Result</h4> <p>result of <code>ImgDetailSerializer</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">433</span><span class="token punctuation">,</span>
        ...
        <span class="token property">&quot;colors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;img&quot;</span><span class="token operator">:</span> <span class="token number">433</span><span class="token punctuation">,</span>
            <span class="token property">&quot;background&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">113</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">186</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">178</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">173</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#c1b7b0&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sand&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light grey&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">1.82365381717682</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">61.8226165771484</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#bab2ad&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">114</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">63</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">57</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">55</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#3a3536&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;graphite&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">2.33610153198242</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">34.4603881835938</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#3f3937&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">115</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">43</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">138</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#384883&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sailor&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">4.09750699996948</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">3.71699190139771</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#2b4e8a&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;foreground&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">116</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">194</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">152</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">138</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#d3a297&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fresco&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;beige&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">4.30250644683838</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">60.351001739502</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#c2988a&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">117</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">119</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">82</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">73</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#7a5747&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;almond&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light brown&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">3.80931234359741</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">24.104585647583</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#775249&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">118</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">151</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">179</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">204</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#9bb7d4&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ice blue&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light blue&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">1.89893698692322</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">15.544412612915</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#97b3cc&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;image&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">119</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">205</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">201</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">199</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#cac5c2&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oyster&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light grey&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">1.14193868637085</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">32.9241065979004</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#cdc9c7&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">49</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">47</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#3a3536&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;graphite&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">2.65745186805725</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">25.4730014801025</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#312e2f&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">121</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">159</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">153</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">152</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#a09998&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;taupe&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;grey&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">0.49531826376915</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">21.441858291626</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#9f9998&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">122</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">152</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">117</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#ac7654&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dark rose-beige&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;skin&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">7.03212118148804</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">16.7517013549805</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#987564&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token number">44</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;g&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token number">140</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#00539c&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;royal blue&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_color_parent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;closest_palette_distance&quot;</span><span class="token operator">:</span> <span class="token number">3.88390517234802</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;percent&quot;</span><span class="token operator">:</span> <span class="token number">3.4093325138092</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;html_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#2c508c&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">433</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;color_variance&quot;</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
            <span class="token property">&quot;object_percentage&quot;</span><span class="token operator">:</span> <span class="token number">7.41921758651733</span><span class="token punctuation">,</span>
            <span class="token property">&quot;color_percent_threshold&quot;</span><span class="token operator">:</span> <span class="token number">1.75</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;img detail info&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br></div></div><p>for now, all the backend related to the color fetch is done. now let's see how to show the result in the web</p> <h2 id="how-to-show-the-colors-of-the-image">how to show the colors of the image</h2> <p><img src="https://deep-diary.oss-cn-hangzhou.aliyuncs.com/blog/image-20220918090919667.png" alt="image-20220918090919667"></p> <p>this is the result of this color extraction. let's make an example.</p> <p>pls watch the third image, which is a beautiful girl. in this image, there mainly have three parts.</p> <ul><li>white background, marking as number ==1==</li> <li>hair, marking as number ==2==</li> <li>skin, marking as number ==3==</li></ul> <p>based on which, we could do the color search both based on background color, foreground color, or the total image colors. it will be interest, isn't it.</p> <p>OK, now let's see the code how to realized this result</p> <h3 id="api">API</h3> <p>for the api, we need to fetch an img detail info, which is already include the colors info.</p> <p>hence, we could input the colors result into the ==color vue== through <strong>props</strong></p> <p>let's see the api once more, which was defined in the props ad a default value, the type is <strong>object</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>props<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 带有默认值的对象</span>
      colors<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token comment">// 对象或数组默认值必须从一个工厂函数获取</span>
        default<span class="token operator">:</span> function () <span class="token punctuation">{</span>
          return <span class="token punctuation">{</span>
            img<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
            background<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">101</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">242</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">198</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">156</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#fcd29e'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'fair beige'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'skin'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">4.03573799133301</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">78.964111328125</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#f2c69c'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">102</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">110</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">73</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">51</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#6e493a'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'cinnamon'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'brown'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">3.06844806671143</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">20.9036521911621</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#<span class="token number">6e4933</span>'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            foreground<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">103</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">231</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">169</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#d4a27c'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'medium rose-beige'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'skin'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">4.19777202606201</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">59.6222991943359</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#e7a978'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">127</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">53</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#7a5747'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'almond'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'light brown'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">5.13545513153076</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">40.1577339172363</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#7f5035'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            image<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">105</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">239</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">181</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">127</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#ecb694'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'fair rose-beige'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'skin'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">5.52706098556519</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">35.521183013916</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#efb57f'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">106</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">251</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">232</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">207</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#fce2c4'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'light rose-beige'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'skin'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">2.80652976036072</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">23.5606784820557</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#fbe8cf'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">107</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">192</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">121</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">77</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#ac7654'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'dark rose-beige'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'skin'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">4.81060171127319</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">20.8791217803955</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#c0794d'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                id<span class="token operator">:</span> <span class="token number">108</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token number">102</span><span class="token punctuation">,</span>
                g<span class="token operator">:</span> <span class="token number">68</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span> <span class="token number">48</span><span class="token punctuation">,</span>
                closest_palette_color_html_code<span class="token operator">:</span> '#6e493a'<span class="token punctuation">,</span>
                closest_palette_color<span class="token operator">:</span> 'cinnamon'<span class="token punctuation">,</span>
                closest_palette_color_parent<span class="token operator">:</span> 'brown'<span class="token punctuation">,</span>
                closest_palette_distance<span class="token operator">:</span> <span class="token number">3.43346619606018</span><span class="token punctuation">,</span>
                percent<span class="token operator">:</span> <span class="token number">19.7065620422363</span><span class="token punctuation">,</span>
                html_code<span class="token operator">:</span> '#<span class="token number">664430</span>'<span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token number">426</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            color_variance<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
            object_percentage<span class="token operator">:</span> <span class="token number">36.7733726501465</span><span class="token punctuation">,</span>
            color_percent_threshold<span class="token operator">:</span> <span class="token number">1.75</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
	...
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br></div></div><h3 id="html">html</h3> <p>the mainly function of html is set the button color style, including the background-color and width, we need using the <strong>vue values</strong> to dynamic display the styles.</p> <p>the most important is this code, we called this ==Template String==</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>        :style=&quot;`background-color: ${
          item.closest_palette_color_html_code
        };width:${item.percent * 5}px`&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>in this sample, we are using px as the unit, in the future, we will change this to percent, that will be more suitable for any case of screen size</p> <p>for the style, there is another way, called ==CSS value==</p> <blockquote><p><a href="https://blog.csdn.net/qq_32088869/article/details/120853351" target="_blank" rel="noopener noreferrer">【vue】通过变量动态修改标签样式（特别是颜色）_王佑辉的博客-CSDN博客_vue 变量样式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>如果有鼠标悬停的，直接使用伪类选择器 :hover就好。</p> <p>如：(only for reference, haven't try this my myself)</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.el-button--danger.is-disabled:hover</span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>all the html code is here:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;el-alert title=&quot;background-color&quot; type=&quot;info&quot;&gt;
      {{ colors.img }}
    &lt;/el-alert&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>background-color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button-group</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>colors !== null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in colors.background<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`background-color: ${
          item.closest_palette_color_html_code
        };width:${item.percent * 5}px`<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>background-color<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button-group</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>foreground-color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button-group</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>colors !== null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in colors.foreground<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`background-color: ${
          item.closest_palette_color_html_code
        };width:${item.percent * 5}px`<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foreground-color<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button-group</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>image-color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button-group</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>colors !== null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in colors.image<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`background-color: ${
          item.closest_palette_color_html_code
        };width:${item.percent * 5}px`<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image-color<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button-group</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="call-the-vue">call the vue</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Tags</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkedIndex &gt;= 0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>albums[checkedIndex].tags<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Tags</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Color</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkedIndex &gt;= 0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:colors</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img.colors<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Color</span><span class="token punctuation">&gt;</span></span>  # props the colors object, which is from img detail response
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Mcs</span>
      <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkedIndex &gt;= 0<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:mcs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img.mcs<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">mcstype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`Mcs Info-${checkedId}`<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Mcs</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>根据一张图片获取主颜色的算法是什么样的? - 知乎 (zhihu.com)](https://www.zhihu.com/question/430895335)</p></blockquote></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/22/2022, 5:29:18 PM</span></div></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div><!----><div></div><!----><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://music.163.com/song/media/outer/url?id=316756.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://p2.music.126.net/qOOTIykbSLw9RHB0vI83GA==/737772302281958.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://p2.music.126.net/qOOTIykbSLw9RHB0vI83GA==/737772302281958.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>大城小事</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>杨千嬅</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><!----></div></div>
    <script src="/assets/js/app.06d47b9d.js" defer></script><script src="/assets/js/4.ddcf94e0.js" defer></script><script src="/assets/js/1.dee964bb.js" defer></script><script src="/assets/js/50.6ef19361.js" defer></script><script src="/assets/js/10.51e38269.js" defer></script>
  </body>
</html>
